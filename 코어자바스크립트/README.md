# 코어 자바스크립트 정리

이 폴더는 『코어 자바스크립트』 핵심 내용을 장별로 요약한 문서 모음입니다.  
문법 암기보다 **왜 그렇게 동작하는지**를 이해하는 데 초점을 맞췄습니다.

## 목차

- `1. 데이터타입.md`
- `2. 실행컨텍스트.md`
- `3. this.md`
- `4. 콜백.md`
- `5. 클로저.md`
- `6. 프로토타입-1.md`
- `6. 프로토타입-2.md`
- `7. 클래스.md`

## 장별 핵심 정리

### 1. 데이터 타입

- 자바스크립트 데이터는 원시 타입과 참조 타입으로 나뉜다.
- 변수에는 값 자체가 아니라 데이터 영역의 주소가 연결된다.
- 원시 타입은 불변, 참조 타입은 내부 상태 변경이 가능하다.
- 객체 복사는 얕은/깊은 복사를 구분해야 하며, `structuredClone`이 현대적인 선택지다.
- `undefined`는 엔진이 부여, `null`은 개발자가 의도적으로 비움을 표현한다.

### 2. 실행 컨텍스트

- 실행 컨텍스트는 코드 실행에 필요한 환경 정보를 담는 내부 구조다.
- 생성 단계에서 식별자를 수집하며, 이것이 호이스팅의 본질이다.
- 핵심은 `lexicalEnvironment`이며 `environmentRecord`와 `outerEnvironmentReference`로 구성된다.
- 스코프 체인은 선언 시점 기준의 외부 렉시컬 환경 참조로 결정된다.
- `this`는 렉시컬 환경과 별개 슬롯에서 바인딩 규칙으로 관리된다.

### 3. this

- `this`는 함수가 어디서 선언됐는지가 아니라 **어떻게 호출됐는지**로 결정된다.
- 함수 호출, 메서드 호출, 생성자 호출, 콜백 호출은 각각 다른 `this`를 만든다.
- 메서드 내부 일반 함수에서는 `this` 유실이 발생할 수 있다.
- ES5에서는 `self` 보관 또는 `bind`, ES6에서는 화살표 함수로 해결할 수 있다.
- `call`, `apply`, `bind`는 `this`를 명시적으로 제어하는 기본 도구다.

### 4. 콜백

- 콜백은 함수 인자로 전달되어 제어권을 위임받아 실행되는 함수다.
- 콜백의 실행 시점, 인자, `this`는 제어권을 가진 쪽이 결정한다.
- 메서드를 콜백으로 넘기면 함수 호출로 바뀌어 `this`가 달라질 수 있다.
- 중첩 콜백은 콜백 지옥을 만들기 쉬우며 가독성과 유지보수성을 해친다.
- 개선 흐름은 기명 함수 분리 → Promise → Generator → async/await 순으로 이해할 수 있다.

### 5. 클로저

- 클로저는 함수와 선언 당시 렉시컬 환경의 결합이다.
- 외부 함수가 종료된 뒤에도 내부 함수가 상위 스코프 변수를 참조하면 값이 유지된다.
- 클로저는 메모리 누수가 아니라 의도적 참조 유지 메커니즘이다.
- 참조를 끊으면 GC 대상이 되며 메모리를 해제할 수 있다.
- 활용: 상태 은닉(private), 이벤트 핸들러 데이터 유지, 부분 적용, 커링, 디바운스 등.

### 6. 프로토타입-1

- 자바스크립트는 프로토타입 기반 언어이며 객체 간 위임으로 동작한다.
- 인스턴스의 내부 프로토타입 참조는 생성자 `prototype`을 가리킨다.
- 프로토타입 메서드의 동작 핵심은 호출 주체(`this`)다.
- `constructor` 프로퍼티를 통해 생성자 추적이 가능하다.
- 실무에서는 `__proto__` 직접 접근보다 `Object.getPrototypeOf` 사용이 안전하다.

### 6. 프로토타입-2

- 프로퍼티 탐색은 자기 자신에서 시작해 상위 프로토타입으로 이어지는 체이닝으로 수행된다.
- 같은 이름의 메서드를 인스턴스에 정의하면 상위 메서드를 가리는 오버라이드가 발생한다.
- 원시값도 임시 래퍼 객체를 통해 프로토타입 메서드를 사용할 수 있다.
- `Object.prototype` 오염은 전역 영향이 커서 위험하며, 객체 전용 기능은 정적 메서드로 제공된다.
- 필요 시 다중 프로토타입 체인을 구성할 수 있지만, 설계 의도를 명확히 해야 한다.

### 7. 클래스

- ES6 `class`는 문법적으로 명확하지만 내부 원리는 여전히 프로토타입 기반이다.
- ES5 상속은 생성자 호출 + 프로토타입 연결(`Object.create`) + `constructor` 복구가 핵심이다.
- `extends`와 `super`는 상속 관계와 부모 접근을 직관적으로 표현한다.
- 클래스 메서드는 기본적으로 열거되지 않으며 클래스 본문은 strict mode로 동작한다.
- 현대 자바스크립트에서는 캡슐화를 위해 `#private` 필드도 활용할 수 있다.

## 한 번에 보는 핵심 흐름

데이터 저장 방식과 식별자 탐색(실행 컨텍스트)을 이해하면 `this`, 콜백, 클로저의 동작이 자연스럽게 연결됩니다.  
그 위에서 프로토타입 체이닝과 클래스 문법을 보면 자바스크립트 객체 모델의 전체 구조를 일관되게 이해할 수 있습니다.
